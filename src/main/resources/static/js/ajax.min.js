var maxFileSize=5242880,numOfSteps=5,app="app";function deleteAll(e){var t,n;for(t=1;t<=e;t++){try{n=document.getElementById("errorAtPosition"+t),"block"===window.getComputedStyle(n).display&&(n.style.display="none")}catch(e){}try{n=document.getElementById("successAtPosition"+t),"block"===window.getComputedStyle(n).display&&(n.style.display="none")}catch(e){}}try{n=document.getElementById("successDiv"),"block"===window.getComputedStyle(n).display&&(n.style.visibility="hidden")}catch(e){}try{n=document.getElementById("errorDiv"),"block"===window.getComputedStyle(n).display&&(n.style.display="none")}catch(e){}}$('input[name="fileupload"]').click(function(e){this.value=null}),$('input[name="fileupload"]').change(function(e){try{e.target.files[0].name.length>5&&(document.getElementById("button1").disabled=!1,document.getElementById("fileupload").disabled=!0,deleteAll(numOfSteps))}catch(e){}});var responseObj=function(){return function(e,t,n,s){this.status=e,this.position=t,this.positionName=n,this.message=s}}();function errorAtPosition(e){var t;try{t=document.getElementById("successDiv"),"block"===window.getComputedStyle(t).display&&(document.getElementById("successMessageDiv").innerHTML="",document.getElementById("successDiv").style.display="none")}catch(e){}document.getElementById("errorDiv").style.display="block",document.getElementById("errorMessageDiv").innerHTML=e.message,document.getElementById("errorAtPosition"+e.position).style.display="block";try{t=document.getElementById("successAtPosition"+e.position),"block"===window.getComputedStyle(t).display&&(document.getElementById("successAtPosition"+e.position).innerHTML="",document.getElementById("successAtPosition"+e.position).style.display="none")}catch(e){}document.getElementById("button"+e.position).disabled=!0,document.getElementById("fileupload").disabled=!1}function successAtPosition(e){var t,n=document.getElementById("successDiv");"hidden"===window.getComputedStyle(n).visibility&&(document.getElementById("successDiv").style.visibility="visible"),document.getElementById("successDiv").style.display="block",document.getElementById("successMessageDiv").innerHTML=e.message;try{t=document.getElementById("errorDiv"),"block"===window.getComputedStyle(t).display&&(document.getElementById("errorDiv").style.display="none")}catch(e){}try{document.getElementById("successAtPosition"+e.position).style.display="block"}catch(e){}try{t=document.getElementById("errorAtPosition"+e.position),"block"===window.getComputedStyle(t).display&&(document.getElementById("errorAtPosition"+e.position).style.display="none")}catch(e){}document.getElementById("button"+e.position).disabled=!0,e.position<numOfSteps&&(document.getElementById("button"+(e.position+1)).disabled=!1),e.position==numOfSteps&&(document.getElementById("fileupload").disabled=!1)}function handleResult(e){0===e.status&&successAtPosition(e),1===e.status&&errorAtPosition(e)}function uploadFile(){new responseObj(0,1,"");var e=new FormData;if(e.append("file",fileupload.files[0]),fileupload.files[0])if(fileupload.files[0].size>maxFileSize)handleResult(new responseObj(1,1,"upload","File is to large!"));else{var t=document.getElementById("typeAjax").value,n=document.getElementById("pageAjax").value;e.append("type",t),e.append("page",n),$.ajax({url:`/${app}/upload-file-ajax`,type:"post",data:e,enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,success:function(e){handleResult(new responseObj(e.status,1,"upload",e.message))},error:function(e){handleResult(new responseObj(1,1,"upload","Something went wrong on server side!<br> Error: "+JSON.stringify(e)))}})}else handleResult(new responseObj(1,1,"upload","Please select a file before clicking Upload!"))}$(document).ready(function(){$("#button2").click(function(){var e=document.getElementById("typeAjax").value,t=document.getElementById("pageAjax").value;$.ajax({type:"post",url:`/${app}/check-file-ajax`,data:{type:e,page:t},success:function(e){handleResult(new responseObj(e.status,2,"check file",e.message))},error:function(e){handleResult(new responseObj(1,2,"check file","Something went wrong on server side!<br> Error: "+JSON.stringify(e)))}})}),$("#button3").click(function(){var e=document.getElementById("typeAjax").value,t=document.getElementById("pageAjax").value;$.ajax({type:"post",url:`/${app}/convert-to-csv-ajax`,data:{type:e,page:t},success:function(e){handleResult(new responseObj(e.status,3,"convert to csv",e.message))},error:function(e){handleResult(new responseObj(1,3,"convert to csv","Something went wrong on server side!<br> Error: "+JSON.stringify(e)))}})}),$("#button4").click(function(){var e=document.getElementById("typeAjax").value,t=document.getElementById("pageAjax").value;$.ajax({type:"post",url:`/${app}/send-to-server-ajax`,data:{type:e,page:t},success:function(e){handleResult(new responseObj(e.status,4,"send to server",e.message))},error:function(e){handleResult(new responseObj(1,4,"send to server","Something went wrong on server side!<br> Error: "+JSON.stringify(e)))}})}),$("#button5").click(function(){var e=document.getElementById("typeAjax").value,t=document.getElementById("pageAjax").value;$.ajax({type:"post",url:`/${app}/call-first-stored-procedure-ajax`,data:{type:e,page:t},success:function(e){handleResult(new responseObj(e.status,5,"call stored procedure",e.message))},error:function(e){handleResult(new responseObj(1,5,"call stored procedure","Something went wrong on server side!<br> Error: "+JSON.stringify(e)))}})})});